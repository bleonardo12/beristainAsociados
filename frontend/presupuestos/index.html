<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Presupuestos - Beristain & Asociados</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- jsPDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <i class="bi bi-arrow-left me-2"></i>
                Beristain & Asociados
            </a>
            <span class="navbar-text text-light">
                <i class="bi bi-file-earmark-text me-2"></i>Generador de Presupuestos
            </span>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-10">

                <!-- Header -->
                <div class="text-center mb-5">
                    <h1 class="display-5 fw-bold text-primary">
                        <i class="bi bi-file-earmark-plus me-3"></i>
                        Generador de Presupuestos
                    </h1>
                    <p class="lead text-muted">Complete los datos y genere un presupuesto profesional en PDF</p>
                </div>

                <!-- Alert -->
                <div id="alert-container"></div>

                <!-- Formulario -->
                <div class="card shadow-lg">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="bi bi-pencil-square me-2"></i>Datos del Presupuesto</h5>
                    </div>
                    <div class="card-body p-4">
                        <form id="presupuestoForm">

                            <!-- SECCIÓN 1: Datos del Cliente -->
                            <h5 class="border-bottom pb-2 mb-4 text-primary">
                                <i class="bi bi-person-fill me-2"></i>Datos del Cliente
                            </h5>

                            <div class="row g-3 mb-4">
                                <div class="col-md-6">
                                    <label for="clienteNombre" class="form-label fw-bold">Nombre Completo *</label>
                                    <input type="text" class="form-control" id="clienteNombre" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="clienteDNI" class="form-label fw-bold">DNI *</label>
                                    <input type="text" class="form-control" id="clienteDNI" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="clienteEmail" class="form-label fw-bold">Email</label>
                                    <input type="email" class="form-control" id="clienteEmail">
                                </div>
                                <div class="col-md-6">
                                    <label for="clienteTelefono" class="form-label fw-bold">Teléfono</label>
                                    <input type="tel" class="form-control" id="clienteTelefono">
                                </div>
                            </div>

                            <!-- SECCIÓN 2: Servicio -->
                            <h5 class="border-bottom pb-2 mb-4 text-primary">
                                <i class="bi bi-briefcase-fill me-2"></i>Servicio Jurídico
                            </h5>

                            <div class="row g-3 mb-4">
                                <div class="col-md-12">
                                    <label for="servicio" class="form-label fw-bold">Área/Servicio *</label>
                                    <select class="form-select" id="servicio" required>
                                        <option value="">Seleccione un servicio...</option>

                                        <optgroup label="RAMA PENAL">
                                            <option value="Penal - Incidente de excarcelación y/o exención de prisión">Incidente de excarcelación y/o exención de prisión</option>
                                            <option value="Penal - Pedido y audiencia de suspensión de juicio a prueba">Pedido y audiencia de suspensión de juicio a prueba</option>
                                            <option value="Penal - Acta de juicio abreviado">Acta de juicio abreviado</option>
                                            <option value="Penal - Actuación hasta la clausura de la instrucción">Actuación hasta la clausura de la instrucción</option>
                                            <option value="Penal - Actuación desde la clausura de la instrucción hasta la sentencia">Actuación desde la clausura de la instrucción hasta la sentencia</option>
                                            <option value="Penal - Parte Querellante">Parte Querellante</option>
                                            <option value="Penal - Redacción de denuncia penal (sin firma letrado)" data-uma="3">Redacción de denuncia penal - 3 UMA</option>
                                        </optgroup>

                                        <optgroup label="RAMA CIVIL">
                                            <option value="Civil - Sucesiones">Sucesiones</option>
                                            <option value="Civil - Declaración de insania">Declaración de insania</option>
                                            <option value="Civil - Consulta verbal" data-uma="0.5">Consulta verbal - 0.5 UMA</option>
                                            <option value="Civil - Consulta con informe" data-uma="1">Consulta con informe - 1 UMA</option>
                                            <option value="Civil - Redacción de carta documento" data-uma="1">Redacción de carta documento - 1 UMA</option>
                                            <option value="Civil - Estudio o información de actuaciones judiciales/administrativas" data-uma="2">Estudio o información de actuaciones - 2 UMA</option>
                                            <option value="Civil - Trámites administrativos ante autoridad de aplicación" data-uma="3">Trámites administrativos - 3 UMA</option>
                                            <option value="Civil - Trámites ante IGJ u organismos similares CABA" data-uma="5">Trámites ante IGJ (CABA) - 5 UMA</option>
                                            <option value="Civil - Asistencia y asesoramiento en actos jurídicos" data-uma="3">Asistencia y asesoramiento en actos jurídicos - 3 UMA</option>
                                            <option value="Civil - Redacción contrato de locación" data-uma="2">Redacción contrato de locación - Mín. 2 UMA (1-5% valor)</option>
                                            <option value="Civil - Redacción boleto compra venta" data-uma="3">Redacción boleto compra venta - Mín. 3 UMA (1-5% valor)</option>
                                            <option value="Civil - Redacción contratos/estatutos sociedades" data-uma="8">Redacción contratos/estatutos sociedades - Mín. 8 UMA (1-3% capital)</option>
                                            <option value="Civil - Redacción otros contratos" data-uma="3">Redacción otros contratos - Mín. 3 UMA (1-5% valor)</option>
                                            <option value="Civil - Gastos administrativos iniciación juicios" data-uma="1">Gastos administrativos iniciación juicios - 1 UMA</option>
                                        </optgroup>

                                        <optgroup label="RAMA COMERCIAL">
                                            <option value="Comercial - Juicio ejecutivo contra bancos">Juicio ejecutivo contra bancos</option>
                                            <option value="Comercial - Juicio ordinario contra bancos">Juicio ordinario contra bancos</option>
                                        </optgroup>

                                        <optgroup label="ACCIDENTES DE TRÁNSITO">
                                            <option value="Accidentes - Reclamo administrativo">Reclamo administrativo</option>
                                            <option value="Accidentes - Daños y perjuicios">Daños y perjuicios</option>
                                            <option value="Accidentes - Reclamo completo (administrativo + judicial)">Reclamo completo (desde administrativo hasta daños y perjuicios)</option>
                                        </optgroup>

                                        <optgroup label="OTROS">
                                            <option value="Otro servicio">Otro servicio (especificar en descripción)</option>
                                        </optgroup>
                                    </select>
                                    <small class="text-muted">Servicios marcados con UMA tienen honorarios mínimos establecidos</small>
                                </div>
                                <div class="col-md-12">
                                    <label for="descripcion" class="form-label fw-bold">Descripción Detallada del Caso *</label>
                                    <textarea class="form-control" id="descripcion" rows="4" required
                                        placeholder="Describa brevemente la situación del cliente y las gestiones a realizar..."></textarea>
                                </div>
                            </div>

                            <!-- SECCIÓN 3: Honorarios -->
                            <h5 class="border-bottom pb-2 mb-4 text-primary">
                                <i class="bi bi-cash-coin me-2"></i>Honorarios y Gastos
                            </h5>

                            <div class="row g-3 mb-4">
                                <!-- Calculadora UMA -->
                                <div class="col-md-12">
                                    <div class="card bg-light">
                                        <div class="card-body">
                                            <h6 class="card-title mb-3">
                                                <i class="bi bi-calculator me-2"></i>Calculadora UMA (Unidad Mínima Arancelaria)
                                            </h6>
                                            <div class="row g-3">
                                                <div class="col-md-4">
                                                    <label for="valorUMA" class="form-label fw-bold">Valor actual de 1 UMA ($)</label>
                                                    <input type="number" class="form-control" id="valorUMA" value="0" min="0" step="0.01"
                                                        placeholder="Ej: 28000">
                                                    <small class="text-muted">Actualizado según Colegio de Abogados</small>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="cantidadUMA" class="form-label fw-bold">Cantidad de UMA</label>
                                                    <input type="number" class="form-control" id="cantidadUMA" value="0" min="0" step="0.5"
                                                        placeholder="Ej: 3">
                                                </div>
                                                <div class="col-md-4">
                                                    <label class="form-label fw-bold">Total en UMA</label>
                                                    <div class="input-group">
                                                        <span class="input-group-text">$</span>
                                                        <input type="text" class="form-control fw-bold" id="totalUMA" readonly>
                                                    </div>
                                                    <button type="button" class="btn btn-sm btn-outline-primary mt-2 w-100" id="btnAplicarUMA">
                                                        <i class="bi bi-arrow-down me-1"></i>Aplicar a Honorarios
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Honorarios -->
                                <div class="col-md-6">
                                    <label for="honorarios" class="form-label fw-bold">Honorarios Profesionales ($) *</label>
                                    <input type="number" class="form-control" id="honorarios" required min="0" step="0.01">
                                    <small class="text-muted">Ingrese monto directo o use calculadora UMA arriba</small>
                                </div>
                                <div class="col-md-6">
                                    <label for="gastos" class="form-label fw-bold">Gastos Administrativos ($)</label>
                                    <input type="number" class="form-control" id="gastos" value="0" min="0" step="0.01">
                                    <small class="text-muted">Tasas, certificados, traslados, etc.</small>
                                </div>
                                <div class="col-md-6">
                                    <label for="iva" class="form-label fw-bold">IVA (%)</label>
                                    <select class="form-select" id="iva">
                                        <option value="0">Sin IVA (Exento)</option>
                                        <option value="21">21% IVA</option>
                                        <option value="10.5">10.5% IVA</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">Total Estimado</label>
                                    <div class="input-group">
                                        <span class="input-group-text bg-success text-white fw-bold">$</span>
                                        <input type="text" class="form-control fw-bold fs-5 text-success" id="totalEstimado" readonly>
                                    </div>
                                </div>
                            </div>

                            <!-- SECCIÓN 4: Condiciones -->
                            <h5 class="border-bottom pb-2 mb-4 text-primary">
                                <i class="bi bi-card-checklist me-2"></i>Condiciones Comerciales
                            </h5>

                            <div class="row g-3 mb-4">
                                <div class="col-md-6">
                                    <label for="formaPago" class="form-label fw-bold">Forma de Pago</label>
                                    <select class="form-select" id="formaPago">
                                        <optgroup label="PAGO ÚNICO">
                                            <option value="Pago único al inicio">Pago único al inicio</option>
                                            <option value="Pago único al finalizar el trámite">Pago único al finalizar el trámite</option>
                                            <option value="Pago único antes de la sentencia">Pago único antes de la sentencia</option>
                                        </optgroup>

                                        <optgroup label="PAGO EN ETAPAS (DOS PAGOS)">
                                            <option value="50% adelanto + 50% al finalizar">50% adelanto + 50% al finalizar</option>
                                            <option value="50% al inicio + 50% antes de sentencia">50% al inicio + 50% antes de sentencia</option>
                                            <option value="40% adelanto + 60% al finalizar">40% adelanto + 60% al finalizar</option>
                                            <option value="30% adelanto + 70% al finalizar">30% adelanto + 70% al finalizar</option>
                                            <option value="20% adelanto + 80% al finalizar">20% adelanto + 80% al finalizar</option>
                                        </optgroup>

                                        <optgroup label="PAGO EN ETAPAS (TRES PAGOS)">
                                            <option value="33% al inicio + 33% mitad del proceso + 34% al finalizar">33% al inicio + 33% a mitad del proceso + 34% al finalizar</option>
                                            <option value="30% al inicio + 30% mitad + 40% al finalizar">30% al inicio + 30% a mitad + 40% al finalizar</option>
                                            <option value="25% al inicio + 25% mitad + 50% al finalizar">25% al inicio + 25% a mitad + 50% al finalizar</option>
                                        </optgroup>

                                        <optgroup label="CUOTAS">
                                            <option value="Pago en 2 cuotas mensuales">Pago en 2 cuotas mensuales</option>
                                            <option value="Pago en 3 cuotas mensuales">Pago en 3 cuotas mensuales</option>
                                            <option value="Pago en 4 cuotas mensuales">Pago en 4 cuotas mensuales</option>
                                            <option value="Pago en 6 cuotas mensuales">Pago en 6 cuotas mensuales</option>
                                            <option value="Pago en cuotas (a coordinar)">Pago en cuotas (a coordinar)</option>
                                        </optgroup>

                                        <optgroup label="HONORARIOS A RESULTADO">
                                            <option value="A éxito - Porcentaje sobre lo obtenido">A éxito - Porcentaje sobre lo obtenido</option>
                                            <option value="A éxito - 25% sobre lo obtenido">A éxito - 25% sobre lo obtenido</option>
                                            <option value="A éxito - 30% sobre lo obtenido">A éxito - 30% sobre lo obtenido</option>
                                            <option value="A éxito - 35% sobre lo obtenido">A éxito - 35% sobre lo obtenido</option>
                                            <option value="Mínimo garantizado + % sobre excedente">Mínimo garantizado + % sobre excedente</option>
                                        </optgroup>

                                        <optgroup label="OTRAS MODALIDADES">
                                            <option value="Según etapas procesales">Según etapas procesales (especificar en observaciones)</option>
                                            <option value="Por audiencia/presentación">Por audiencia o presentación judicial</option>
                                            <option value="Abono mensual">Abono mensual</option>
                                            <option value="Tarjeta de crédito/débito">Tarjeta de crédito/débito</option>
                                            <option value="Transferencia bancaria">Transferencia bancaria</option>
                                            <option value="Efectivo">Efectivo</option>
                                            <option value="Mixto (especificar)">Mixto (especificar en observaciones)</option>
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="vigencia" class="form-label fw-bold">Vigencia del Presupuesto</label>
                                    <select class="form-select" id="vigencia">
                                        <option value="15">15 días</option>
                                        <option value="30" selected>30 días</option>
                                        <option value="45">45 días</option>
                                        <option value="60">60 días</option>
                                    </select>
                                </div>
                                <div class="col-md-12">
                                    <label for="observaciones" class="form-label fw-bold">Observaciones/Aclaraciones</label>
                                    <textarea class="form-control" id="observaciones" rows="3"
                                        placeholder="Información adicional, condiciones especiales, etc."></textarea>
                                </div>
                                <div class="col-md-12">
                                    <label for="detalleAdicional" class="form-label fw-bold">Detalle Adicional (Opcional)</label>
                                    <textarea class="form-control" id="detalleAdicional" rows="4"
                                        placeholder="Espacio libre para incluir cualquier información complementaria que desee agregar al presupuesto (documentación requerida, plazos específicos, aclaraciones sobre el proceso, etc.)"></textarea>
                                    <small class="text-muted">Este campo aparecerá en el PDF si se completa</small>
                                </div>
                            </div>

                            <!-- Botones -->
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                                <button type="reset" class="btn btn-secondary btn-lg">
                                    <i class="bi bi-x-circle me-2"></i>Limpiar
                                </button>
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="bi bi-file-pdf me-2"></i>Generar PDF
                                </button>
                            </div>

                        </form>
                    </div>
                </div>

                <!-- Info Footer -->
                <div class="alert alert-info mt-4" role="alert">
                    <i class="bi bi-info-circle-fill me-2"></i>
                    <strong>Importante:</strong> El PDF se descargará automáticamente cuando haga clic en "Generar PDF".
                    Funciona en PC, tablet y celular sin necesidad de conexión a internet.
                </div>

            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-5">
        <p class="mb-0">&copy; 2024 Beristain & Asociados - Generador de Presupuestos</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS -->
    <script src="js/generador.js"></script>
</body>
</html>
